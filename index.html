<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Launcher</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #0f172a, #1e3a8a, #2563eb);
      background-size: 300% 300%;
      animation: gradientMove 10s ease infinite;
      color: white;
      overflow: hidden;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 50px 40px;
      text-align: center;
      box-shadow: 0 0 30px rgba(0, 200, 255, 0.4);
      animation: glowPulse 2.5s ease-in-out infinite;
      backdrop-filter: blur(14px);
    }

    @keyframes glowPulse {
      0%, 100% {
        box-shadow: 0 0 15px rgba(0, 200, 255, 0.5);
      }
      50% {
        box-shadow: 0 0 40px rgba(0, 200, 255, 0.9);
      }
    }

    .logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin-bottom: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 20px rgba(0, 200, 255, 0.6);
      animation: spin 6s linear infinite, pulse 2s ease-in-out infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 15px rgba(0, 200, 255, 0.5);
      }
      50% {
        box-shadow: 0 0 30px rgba(0, 200, 255, 1);
      }
    }

    .glow-text {
      font-weight: 600;
      font-size: 1.5rem;
      color: #00e0ff;
      text-shadow: 0 0 15px #00e0ff, 0 0 30px #00e0ff;
      animation: textGlow 2s ease-in-out infinite;
    }

    @keyframes textGlow {
      0%, 100% {
        text-shadow: 0 0 10px #00e0ff, 0 0 20px #00e0ff;
      }
      50% {
        text-shadow: 0 0 30px #00e0ff, 0 0 50px #00e0ff;
      }
    }

    #status {
      font-size: 1rem;
      margin-top: 12px;
      color: #cbd5e1;
      letter-spacing: 0.5px;
    }

    .loading-dots::after {
      content: "";
      animation: dots 1.5s steps(3, end) infinite;
    }

    @keyframes dots {
      0%, 20% { content: ""; }
      40% { content: "."; }
      60% { content: ".."; }
      80%, 100% { content: "..."; }
    }
  </style>
</head>

<body>
  <div class="card">
    <!-- üîπ Add your own logo image here -->
    <img src="logo.png" alt="App Logo" class="logo">
    <div class="glow-text">Launching App</div>
    <div id="status" class="loading-dots">Checking connection</div>
  </div>

  <script type="module">
    import { auth } from './firebase.js';
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

    const status = document.getElementById('status');

    function setStatus(message, color = "#cbd5e1") {
      status.textContent = message;
      status.style.color = color;
    }

    function checkConnection() {
      if (!navigator.onLine) {
        setStatus("‚ùå Offline: Check your internet connection.", "#ff4d4d");
        return false;
      }
      return true;
    }

    if (checkConnection()) {
      setStatus("Checking login state...");
      onAuthStateChanged(auth, (user) => {
        if (user) {
          setStatus("‚úÖ Welcome back! Redirecting to dashboard...", "#4ade80");
          setTimeout(() => window.location.href = "dashboard.html", 1500);
        } else {
          setStatus("‚û°Ô∏è Redirecting to login...", "#60a5fa");
          setTimeout(() => window.location.href = "login.html", 1500);
        }
      });
    }

    window.addEventListener('online', () =>
      setStatus("‚úÖ Back Online!", "#4ade80")
    );
    window.addEventListener('offline', () =>
      setStatus("‚ùå Offline: Check your internet connection.", "#ff4d4d")
    );
  </script>
</body>
</html></body>
</html>
